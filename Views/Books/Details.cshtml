@model Library_Management.Models.Book



@{
    ViewData["Title"] = "Details";
}


@if (User.Identity.IsAuthenticated)
{

    @if (User.IsInRole("Admin"))
    {
        <div class="row">
            <div class="col-md-6">
                <div class="card ">
                    <h1 class="card-header text-center">Book Details</h1>
                    <dl class="row m-2">
                        <dt class="col-sm-4">
                            @Html.DisplayNameFor(model => model.Book_Title)
                        </dt>
                        <dd class="col-sm-8">
                            @Html.DisplayFor(model => model.Book_Title)
                        </dd>
                        <dt class="col-sm-4">
                            @Html.DisplayNameFor(model => model.Book_Name)
                        </dt>
                        <dd class="col-sm-8">
                            @Html.DisplayFor(model => model.Book_Name)
                        </dd>
                        <dt class="col-sm-4">
                            @Html.DisplayNameFor(model => model.Author)
                        </dt>
                        <dd class="col-sm-8">
                            @Html.DisplayFor(model => model.Author)
                        </dd>
                        <dt class="col-sm-4">
                            @Html.DisplayNameFor(model => model.Publisher)
                        </dt>
                        <dd class="col-sm-8">
                            @Html.DisplayFor(model => model.Publisher)
                        </dd>
                        <dt class="col-sm-4">
                            @Html.DisplayNameFor(model => model.Category)
                        </dt>
                        <dd class="col-sm-8">
                            @Html.DisplayFor(model => model.Category)
                        </dd>
                        <dt class="col-sm-4">
                            @Html.DisplayNameFor(model => model.Edition)
                        </dt>
                        <dd class="col-sm-8">
                            @Html.DisplayFor(model => model.Edition)
                        </dd>
                        <dt class="col-sm-4">
                            @Html.DisplayNameFor(model => model.Details)
                        </dt>
                        <dd class="col-sm-8">
                            @Html.DisplayFor(model => model.Details)
                        </dd>
                    </dl>
                </div>

            </div>
            <div class="col-md-6">
                <table class="table table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th>
                                Book Number
                            </th>
                            <th>
                                Book Status
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in ViewBag.isList)
                        {
                            if (item.Book_Statuss.Status == "Available")
                            {
                                <tr class="table-success">
                                    <td>
                                        @item.CodeNumber
                                    </td>
                                    <td>
                                        @item.Book_Statuss.Status
                                    </td>
                                </tr>
                            }
                            else
                            {
                                <tr class="table-danger">
                                    <td>
                                        @item.CodeNumber
                                    </td>
                                    <td>
                                        @item.Book_Statuss.Status
                                    </td>
                                </tr>
                            }

                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="mt-4">
            <table class="table table-bordered table-sm ">
                <thead class="thead-dark">
                    <tr>
                        <th>
                            Student
                        </th>
                        <th>
                            Student Email
                        </th>
                        <th>
                            Book Number
                        </th>
                        <th>
                            Issue Date
                        </th>
                        <th>
                            Return Date
                        </th>
                        <th>
                            Actual Return Date
                        </th>
                        <th>
                            Returned Status
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in ViewBag.isList2)
                    {
                        <tr>
                            <td>
                                @item.Student.Name
                            </td>
                            <td>
                                @item.Student.Email
                            </td>
                            <td>
                                @item.BookCodes.CodeNumber
                            </td>
                            <td>
                                @item.Issue_Date
                            </td>
                            <td>
                                @item.Return_Date
                            </td>
                            <td>
                                @item.ActualReturn_Date
                            </td>
                            <td>
                                @item.IsReturned
                            </td>


                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <div>
            <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
            <a asp-action="Index">Back to List</a>
        </div>
    }
}
else
{
    <div>
        <h4>Book</h4>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Book_Title)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Book_Title)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Book_Name)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Book_Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Author)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Author)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Publisher)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Publisher)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Category)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Category)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Edition)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Edition)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Details)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Details)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Picture)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Picture)
            </dd>
        </dl>
    </div>
    <div>
        <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
        <a asp-action="Index">Back to List</a>
    </div>
}
